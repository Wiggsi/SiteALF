{% extends 'base.html.twig' %}

{% block title %}{{ post }} | Modification{% endblock %}
{% block pageTitle %}Messages{% endblock %}

{% block body %}
    <div class="row">
        <div class="col">
            <h3>{{ post }} - Modification</h3>
            <div class="btn-group m-2">
                <a href="{{ path('gd_post_show', {'id': post.id}) }}" class="btn btn-outline-secondary">
                    <span class="oi oi-chevron-left"></span> Retour au message</a>
                {% if app.user == post.author or app.user.gendarme.isChef %}
                    {{ include('Post/_delete_form.html.twig') }}
                {% endif %}
            </div>
        </div>
    </div>
    {{ include('Post/_form.html.twig') }}
{% endblock %}

{% block javascripts %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-bs4.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-bs4.js"></script>
    <script>
        let bb = document.querySelector('#colContent').getBoundingClientRect();
        width = bb.right - bb.left;
        $(document).ready(function () {
            $('#post_content').summernote({
                height: screen.availHeight * 0.9,
                width: width * 0.9
            });
        });
    </script>
{% endblock %}