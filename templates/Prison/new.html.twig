{% extends 'base.html.twig' %}

{% block title %}Nouvelle fiche {{ type }}{% endblock %}
{% block pageTitle %}Prison{% endblock %}

{% block body %}
    <div class="row">
        <div class="col">
            <h3>Nouvelle fiche {{ type }}</h3>
        </div>
    </div>
    {{ include('Prison/_form.html.twig') }}
{% endblock %}

{% block javascripts %}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-bs4.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-bs4.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2-bootstrap-theme/0.1.0-beta.10/select2-bootstrap.min.css"
          rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <script>
        $(document).ready(function () {
            let bb = document.querySelector('#colContent').getBoundingClientRect();
            width = bb.right - bb.left;
            $(document).ready(function () {
                $('#prison_comment').summernote({
                    height: screen.availHeight * 0.9,
                    width: width * 0.9
                });
            });
            $("#prison_criminel").select2({theme: "bootstrap"});
            $("#prison_PV").select2({placeholder: "", allowClear: true, theme: "bootstrap"});
            if ($('#prison_type').val() !== "Bracelet électronique")
                $('#validationGroup').hide();
            $('#prison_type').change(function () {
                if ($(this).val() !== "Bracelet électronique")
                    $('#validationGroup').hide();
                else
                    $('#validationGroup').show();
            })
        });
    </script>
{% endblock %}